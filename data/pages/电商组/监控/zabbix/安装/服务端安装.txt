#利用docker快捷安装zabbix

##安装docker

  - 1.利用DaoCloud加速器安装docker和加速docker镜像[[https://dashboard.daocloud.io/]]
  - 2.配置 Docker 加速器：[[https://www.daocloud.io/mirror]]

##安装zabbix
###利用dao加速拉取zabbix相关镜像

''dao pull busybox:latest                                   
dao pull monitoringartist/zabbix-db-mariadb:latest                           
dao pull monitoringartist/zabbix-xxl:latest ''               

####create /var/lib/mysql as persistent volume storage

''docker run -d -v /var/lib/mysql --name zabbix-db-storage busybox:latest''

####start DB for Zabbix - default 1GB innodb_buffer_pool_size is used

''docker run \                   
    -d \                        
    --name zabbix-db \                  
    -v /backups:/backups \                         
    -v /etc/localtime:/etc/localtime:ro \                    
    --volumes-from zabbix-db-storage \                  
    --env="MARIADB_USER=zabbix" \                      
    --env="MARIADB_PASS=my_password" \                 
    monitoringartist/zabbix-db-mariadb                                
''

####start Zabbix linked to started DB

''docker run \                            
    -d \                                            
    --name zabbix \             
    -p 80:80 \                            
    -p 10051:10051 \                        
    -v /etc/localtime:/etc/localtime:ro \                     
    --link zabbix-db:zabbix.db \                    
    --env="ZS_DBHost=zabbix.db" \              
    --env="ZS_DBUser=zabbix" \               
    --env="ZS_DBPassword=my_password" \              
    monitoringartist/zabbix-xxl:latest''                

###wait ~60 seconds for Zabbix initialization                                     
                                                                            
**Zabbix web will be available on the port 80, Zabbix server on the port 10051**                                         